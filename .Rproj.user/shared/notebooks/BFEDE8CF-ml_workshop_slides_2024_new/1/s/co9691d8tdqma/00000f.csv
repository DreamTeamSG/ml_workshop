"0","library(mvtnorm)"
"0","library(ggplot2)"
"0","library(gridExtra)"
"0",""
"0","mu = c(0,0)"
"0","cov1 = matrix(c(1,0.3,0.3,1),2)"
"0","ntrain = 10"
"0","ntest = 10"
"0","n = 20"
"0",""
"0","set.seed(6, sample.kind = ""Rounding"")"
"0","data = rmvnorm(n, mean = mu, sigma = cov1)"
"0","colnames(data) = c(""x"", ""y"")"
"0","data = data.frame(data)"
"0",""
"0","train = sample(1:20, 10)"
"0","test = setdiff(1:20, train)"
"0",""
"0","negR2task = TaskRegr$new(""y"", backend = data, target = ""y"")"
"0","easylearn = lrn(""regr.lm"")"
"0","easylearn$train(negR2task, row_ids = train)"
"0",""
"0","predtrain = easylearn$predict(negR2task, row_ids = train)"
"0","predtest = easylearn$predict(negR2task, row_ids = test)"
"0",""
"0","perf_train = predtrain$score(msr(""regr.rsq""))"
"0","perf_test = predtest$score(msr(""regr.rsq""))"
"0",""
"0","p1 = ggplot(data = data[train,], aes(x = x, y = y)) + "
"0","  geom_point(color = RColorBrewer::brewer.pal(2, ""Dark2"")[1]) +"
"0","  geom_smooth(method = ""lm"", se = FALSE, fullrange = TRUE, color = RColorBrewer::brewer.pal(2, ""Dark2"")[1]) +"
"0","  theme_bw() + theme(legend.position=""none"") +"
"0","  xlim(-2,2) + ylim(-2,3) +"
"0","  annotate(""text"", x = 0, y = 3, label = paste0(""italic(R)[train]^2 =="", perf_train),"
"0","    parse = TRUE, color = RColorBrewer::brewer.pal(2, ""Dark2"")[1], size = 5)"
"0",""
"0","p2 = ggplot(data = data[train,], aes(x = x, y = y)) + "
"0","  geom_smooth(method = ""lm"", se = FALSE, fullrange = TRUE, color = RColorBrewer::brewer.pal(2, ""Dark2"")[1]) +"
"0","  theme_bw() + theme(legend.position=""none"") +"
"0","  geom_point(data = data[test,], aes(x = x, y = y),"
"0","    color = RColorBrewer::brewer.pal(2, ""Dark2"")[2], shape = 4) +"
"0","  xlim(-2,2) + ylim(-2,3) +"
"0","  annotate(""text"", x = 0, y = 3, label = paste0(""italic(R)[test]^2 =="", perf_test),"
"0","    parse = TRUE, color = RColorBrewer::brewer.pal(2, ""Dark2"")[2], size = 5)"
"0",""
"0","p3 = ggplot(data = data[train,], aes(x = x, y = y)) + "
"0","  geom_point(color = RColorBrewer::brewer.pal(2, ""Dark2"")[1]) +"
"0","  geom_smooth(method = ""lm"", se = FALSE, fullrange = TRUE, color = RColorBrewer::brewer.pal(2, ""Dark2"")[1]) +"
"0","  theme_bw() + theme(legend.position=""none"") +"
"0","  geom_point(data = data[test,], aes(x = x, y = y),"
"0","    color = RColorBrewer::brewer.pal(2, ""Dark2"")[2],"
"0","    shape = 4) +"
"0","  geom_smooth(data = data[test,], aes(y = y, x = x), method = ""lm"", "
"0","    formula = y ~ x, color = RColorBrewer::brewer.pal(2, ""Dark2"")[2], "
"0","    linetype = 3, se = FALSE, fullrange = TRUE) +"
"0","  xlim(-2,2) + ylim(-2,3)"
"0",""
"0","grid.arrange(p1, p2, p3, ncol = 3)"
"1","[1m[22m`geom_smooth()` using formula = 'y ~ x'
"
"1","[1m[22m`geom_smooth()` using formula = 'y ~ x'
"
"1","[1m[22m`geom_smooth()` using formula = 'y ~ x'
"
