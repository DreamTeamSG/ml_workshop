"0","## prepare visualization "
"0","library(cowplot)"
"2","
Attaching package: ‘cowplot’

"
"2","The following object is masked from ‘package:patchwork’:

    align_plots

"
"0","library(magick)"
"2","Linking to ImageMagick 6.9.12.93
Enabled features: cairo, fontconfig, freetype, heic, lcms, pango, raw, rsvg, webp
Disabled features: fftw, ghostscript, x11
"
"0","library(ggplot2)"
"0",""
"0",""
"0","# code was provided by the working group of computational statistics "
"0","# led by Bernd Bischl at LMU Munich"
"0",""
"0","# plot ""Example of Overfitting/Model Evaluation I"""
"0",""
"0",".h <- function(x) 0.5 + 0.4 * sin(2 * pi * x)"
"0","h <- function(x) .h(x) + rnorm(length(x), mean = 0, sd = 0.05)"
"0","n <- 22L"
"0","set.seed(123)"
"0","x.all <- seq(0, 1, length = n)"
"0","ind <- c(1, sample(1:(n-1), size = round((n-3)/2), replace = FALSE), n)"
"0",""
"0","x <- x.all[ind]"
"0","y <- h(x)"
"0","x.test <- x.all[-ind]"
"0","y.test <- h(x.all[-ind])"
"0",""
"0","line.palette <- RColorBrewer::brewer.pal(3, ""Dark2"")"
"0","baseplot <- function() {"
"0","  par(mar = c(2, 2, 1, 1) + 2.2)"
"0","  plot(.h, lty = 2L, xlim = c(0, 1), ylim = c(-0.1, 1), ylab = """", xlab = """", cex.axis = 0.8)"
"0","  points(x, y, pch = 19L)"
"0","  points(x.test, y.test)"
"0","  legend(x = ""bottomleft"", legend = c(""population"", ""training set"", ""test set""),"
"0","         col = ""black"", lty = c(2L, NA, NA), pch = c(NA, 19L, 21L), cex = 0.8)"
"0","}"
"0",""
"0","p1 <- lm(y ~ poly(x, 1, raw = TRUE))"
"0","p3 <- lm(y ~ poly(x, 3, raw = TRUE))"
"0","p8 <- lm(y ~ poly(x, 8, raw = TRUE))"
"0","mods <- list(p1, p3, p8)"
"0","x.plot <- seq(0, 1, length = 500L)"
"0",""
"0","## create plot and save "
"0","baseplot()"
